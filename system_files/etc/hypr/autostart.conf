# autostart processes utilise uwsm
# exec-once = uwsm app -- my-service
exec-once = uwsm app -- hypridle
exec-once = uwsm app -- dunst
exec-once = uwsm app -- waybar
exec-once = uwsm app -- fcitx5
exec-once = uwsm app -- swaybg -i ~/.config/hypr/wallust/current_wallpaper.jpg -m fill
#exec-once = uwsm app -- swayosd-server
#exec-once = uwsm app -- walker --gapplication-service
exec-once = /usr/libexec/polkit-mate-authentication-agent-1
exec-once = gnome-keyring-daemon --start --components=pkcs11,secrets,ssh,gpg
#exec-once = wl-clip-persist --clipboard regular --all-mime-type-regex '^(?!x-kde-passwordManagerHint).+'

exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = uwsm app -- nm-applet --indicator
exec-once = uwsm app -- blueman-applet

# Clipboard manager
exec-once = uwsm app -- cursor-clip --daemon

# Hardware-specific services
{{- if (stat "/sys/bus/iio/devices") }}
# IIO sensor daemon (gyroscope for display rotation)
exec-once = uwsm app -- iio-hyprland
{{- end }}

{{- if (stat "/sys/module/asus_nb_wmi") }}
# ASUS ROG control (notebook WMI module detected)
exec-once = uwsm app -- rog-control-center
{{- end }}

# Additional hardware-specific services (move to ~/.local/share/chezmoi/dot_config/hypr/autostart.local.conf)
# Examples:
#   exec-once = uwsm app -- solaar              # Logitech device manager